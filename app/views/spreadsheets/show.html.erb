<div id="rails-shell">
  <div class="spreadsheet-tabs">
    <% @spreadsheets.each do |f| %>
      <%= link_to spreadsheet_path(f.id), method: :get do %>
        <div class="<%= f.id === @spreadsheet.id ? 'spreadsheet-tab active-tab' : 'spreadsheet-tab' %>">
          <%= f.name %>
        </div>
      <% end %>
    <% end %>
  </div>
  <%= content_tag :div,
    id: "root",
    data: {
      categories: @spreadsheet.get_categories,
      income: @spreadsheet.get_income,
      expenses: @spreadsheet.get_expenses,
      items: @spreadsheet.items,
      totalIncome: @spreadsheet.calculate_balance[:income],
      totalExpense: @spreadsheet.calculate_balance[:expense],
      balance: @spreadsheet.calculate_balance[:total],
      entireBalance: @spreadsheet.calculate_entire_balance,
      info: {
        id: @spreadsheet.id,
        title: @spreadsheet.name,
        currency: @spreadsheet.currency,
        user_id: @spreadsheet.user_id
      }
  }.to_json do %>
  <% end %>
</div>
